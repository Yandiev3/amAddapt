<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css"/>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
    <title>AMAD</title>
</head>
<body>
    <header>
        <div class="hcontainer">
            <div class="logo">
                <a href="#"><img src="image/logo.png" alt="AMAD"></a>
            </div>
            <nav class="navbar">
                <ul>
                    <li><a href="#">Главная</a></li>
                    <li><a href="#about">О Компании</a></li>
                    <li><a href="#portfolio">Портфолио</a></li>
                    <li><a href="#contacts">Контакты</a></li>
                    <li><button class="btn" id="openModalBtn">Заказать</button></li>
                </ul>
            </nav>
            <div class="menu-toggle" id="mobile-menu">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </header>

    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Обратная связь</h2>
            <form id="feedbackForm">
                <div class="form-group">
                    <label for="firstName">Фамилия Имя:</label>
                    <input type="text" id="firstName" name="firstName" required>
                </div>
                <div class="form-group">
                    <label for="phone">Телефон:</label>
                    <input type="tel" id="phone" name="phone" placeholder="+7 (___) ___-__-__" required>
                </div>
                <button type="submit" class="submit-btn" >Отправить</button>
            </form>
        </div>
    </div>

    <main>
        <div class="topcontainer">
            <div class="topcontent">
                <h1>Мебель по индивидуальным проектам</h1>
                <button class="topbtn" id="openModalBtnTop">Рассчитать стоимость</button>
            </div>
            <!-- Фоновые изображения -->
            <div class="background-images">
                <img src="img/K1.webp" alt="Фон 1" class="background-image active">
                <img src="img/P1.webp" alt="Фон 2" class="background-image">
                <img src="img/V1.jpg" alt="Фон 3" class="background-image">
            </div>
        </div>

        <div class="advantages">
            <div class="advcontainer">
                <div class="advitem">
                    <img src="image/adv1.png">
                    <h5>Доставка по России</h5>
                    <p>Доставим в любую точку России</p>
                </div>
                <div class="advitem additemBorder">
                    <img src="image/adv2.png">
                    <h5>Удобная оплата</h5>
                    <p>Все формы оплаты</p>
                </div>
                <div class="advitem">
                    <img src="image/adv3.png">
                    <h5>Гарантия качества</h5>
                    <p>Прописанная в договоре</p>
                </div>
            </div>
        </div>

        <div id="about">    
            <div class="company">
                <div class="companycontainer">
                    <div class="companytitle">
                        <h>О компании</h>
                        <p>
                            Компания Amad.Mebel более 3 лет успешно занимается производством корпусной мебели «под ключ», предлагая своим клиентам полный спектр услуг — от разработки дизайна до установки. Мы создаем мебель, которая идеально сочетается с вашим пространством и отражает ваши потребности.
                            <br><br>
                            С самого начала мы ориентировались на индивидуальный подход, использование современных и экологичных материалов, и стремление к безупречному качеству. Это позволило нам завоевать доверие и признание среди наших клиентов.
                        </p>
                    </div>
                    <div class="companyimg">
                        <img src="image/company.jpeg">
                    </div>
                </div>
            </div>
        </div>
        
        <div id="portfolio" class="portfolio">
            <div class="portfolio-container">
                <div class="portfolio-item" data-category="kitchen">
                    <img src="./img/K1.webp" alt="Кухня">
                    <div class="portfolio-overlay">
                        <h3>Кухня</h3>
                        <p>Эргономичное пространство для кулинарного творчества</p>
                    </div>
                </div>
                <div class="portfolio-item" data-category="bedroom">
                    <img src="./img/С1.webp" alt="Спальня">
                    <div class="portfolio-overlay">
                        <h3>Спальня</h3>
                        <p>Уютное пространство для отдыха и релаксации</p>
                    </div>
                </div>
                <div class="portfolio-item" data-category="hallway">
                    <img src="./img/P1.webp" alt="Прихожая">
                    <div class="portfolio-overlay">
                        <h3>Прихожая</h3>
                        <p>Функциональное пространство для встречи гостей</p>
                    </div>
                </div>
                <div class="portfolio-item" data-category="bathroom">
                    <img src="./img/V1.jpg" alt="Ванная комната">
                    <div class="portfolio-overlay">
                        <h3>Ванная комната</h3>
                        <p>Современный дизайн с акцентом на комфорт и функциональность</p>
                    </div>
                </div>
            </div>
        </div>
    
        <div id="portfolioModal" class="portfolio-modal">
            <div class="modal-content">
                <span class="close-modal"></span>
                <div class="modal-slider">
                    <!-- Слайды будут добавляться сюда динамически -->
                </div>
                <button class="prev-slide">&#10094;</button>
                <button class="next-slide">&#10095;</button>
            </div>
        </div>
        

        <div class="map-cont">
            <div class="maptitle">
                <h>Мы на карте</h>
            </div>
            <div class="map">
                <script type="text/javascript" charset="utf-8" async src="https://api-maps.yandex.ru/services/constructor/1.0/js/?um=constructor%3Adad35fc926e9e8f63c17632ae89610f5a0a0e4d53f63c382e37425faaf90c69b&amp;width=100%25&amp;height=100%&amp;lang=ru_RU&amp;scroll=true&amp;margin=auto"></script>
            </div>
        </div>
    </main>

    <footer>
        <div id="contacts" class="footercontainer">
            <div class="row">
                <div class="footer-col">
                    <h4>Контакты</h4>
                    <ul>
                        <li><a href="tel:+79629280606">+7 962 928 06 06</a></li>
                        <li><a href="mailto:amad.mebel@mail.ru" target="_blank">amad.mebel@mail.ru</a></li>
                        <li><a href="https://yandex.ru/maps/-/CHQajEpK" target="_blank"><b>Адрес</b><br>Москва, ул. Дорожная улица, 54к4с19</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Социальные сети</h4>
                    <div class="social-links">
                        <a href="https://wa.me/79629280606" target="_blank"><i class="fab fa-whatsapp"></i></a>
                        <a href="https://t.me/amadmebel" target="_blank"><i class="fab fa-telegram"></i></a>
                        <a href="https://www.instagram.com/amad.mebel/profilecard/?igsh=MTB0dDdjejA5cXJrMQ==" target="_blank"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script>
        document.getElementById('phone').addEventListener('focus', function (e) {
        // Если поле пустое, добавляем +7
        if (!e.target.value.startsWith('+7')) {
            e.target.value = '+7';
        }
    });

        document.getElementById('phone').addEventListener('input', function (e) {
        let x = e.target.value
            .replace(/\D/g, '') // Удаляем все нецифровые символы
            .match(/(\d{0,1})(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})/); // Разбиваем на группы

        e.target.value = '+7' 
            + (x[2] ? ' (' + x[2] : '') 
            + (x[3] ? ') ' + x[3] : '') 
            + (x[4] ? '-' + x[4] : '') 
            + (x[5] ? '-' + x[5] : '');
    });

        document.addEventListener('DOMContentLoaded', function() {
        const backgroundImages = document.querySelectorAll('.background-image');
        let currentIndex = 0;

        function changeBackground() {
            // Убираем класс active у текущего изображения
            backgroundImages[currentIndex].classList.remove('active');

            // Переходим к следующему изображению
            currentIndex = (currentIndex + 1) % backgroundImages.length;

            // Добавляем класс active к новому изображению
            backgroundImages[currentIndex].classList.add('active');
        }

        // Меняем фон каждые 5 секунд (5000 мс)
        setInterval(changeBackground, 5000);
    });


        // Мобильное меню
        const mobileMenu = document.getElementById('mobile-menu');
        const navbar = document.querySelector('.navbar ul');

        mobileMenu.addEventListener('click', () => {
            navbar.classList.toggle('active');
        });

        // Закрытие меню при нажатии на ссылки
        const navLinks = document.querySelectorAll('.navbar ul li a');
        navLinks.forEach(link => {
            link.addEventListener('click', () => {
                navbar.classList.remove('active');
            });
        });

        // Модальное окно
        const modal = document.getElementById('modal');
        const openModalBtn = document.getElementById('openModalBtn');
        const openModalBtnTop = document.getElementById('openModalBtnTop');
        const closeModal = document.querySelector('.close');

        openModalBtn.addEventListener('click', () => {
            modal.style.display = 'block';
        });

        openModalBtnTop.addEventListener('click', () => {
            modal.style.display = 'block';
        });

        closeModal.addEventListener('click', () => {
            modal.style.display = 'none';
        });

        window.addEventListener('click', (event) => {
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        });

        // Обработка формы
        const feedbackForm = document.getElementById('feedbackForm');
        feedbackForm.addEventListener('submit', (event) => {
            event.preventDefault();
            const firstName = document.getElementById('firstName').value;
            const phone = document.getElementById('phone').value;
            alert(`Спасибо, ${firstName}! Мы свяжемся с вами по номеру ${phone}.`);
            modal.style.display = 'none';
            feedbackForm.reset();
        });


        document.addEventListener('DOMContentLoaded', function() {
            const portfolioItems = document.querySelectorAll('.portfolio-item');
            const modal = document.getElementById('portfolioModal');
            const closeModalBtn = document.querySelector('.close-modal');
            const modalSlider = document.querySelector('.modal-slider');
            const prevSlideBtn = document.querySelector('.prev-slide');
            const nextSlideBtn = document.querySelector('.next-slide');
            let currentIndex = 0;
            let currentProjects = [];

            // Данные о проектах
            const projects = {
                kitchen: [
                    {
                        image: "./img/K2.webp",
                        title: "Кухня 1",
                        description: "Эргономичное пространство для кулинарного творчества"
                    },
                    {
                        image: "./img/K3.webp",
                        title: "Кухня 2",
                        description: "Современный дизайн кухни с островом"
                    },
                ],
                bedroom: [
                    {
                        image: "./img/С2.webp",
                        title: "Спальня 1",
                        description: "Уютное пространство для отдыха и релаксации"
                    },
                    {
                        image: "./img/С3.webp",
                        title: "Спальня 2",
                        description: "Спальня в классическом стиле"
                    }
                ],
                hallway: [
                    {
                        image: "./img/P2.webp",
                        title: "Прихожая 1",
                        description: "Функциональное пространство для встречи гостей"
                    },
                    {
                        image: "./img/P3.webp",
                        title: "Прихожая 2",
                        description: "Функциональное пространство для встречи гостей"
                    }
                ],
                bathroom: [
                    {
                        image: "./img/V2.webp",
                        title: "Ванная 1",
                        description: "Современный дизайн с акцентом на комфорт"
                    },
                    {
                        image: "./img/V3.webp",
                        title: "Ванная 2",
                        description: "Современный дизайн с акцентом на комфорт"
                    },
                ]
            };

            // Открытие модального окна и загрузка проектов
            portfolioItems.forEach(item => {
                item.addEventListener('click', function() {
                    const category = item.getAttribute('data-category'); // Получаем категорию из атрибута
                    currentProjects = projects[category]; // Загружаем проекты для выбранной категории
                    currentIndex = 0; // Сбрасываем индекс
                    renderSlider();
                    modal.style.display = 'flex';
                });
            });

            // Закрытие модального окна
            closeModalBtn.addEventListener('click', function() {
                modal.style.display = 'none';
            });

            window.addEventListener('click', function(event) {
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            });

            // Листание слайдов
            prevSlideBtn.addEventListener('click', function() {
                currentIndex = (currentIndex > 0) ? currentIndex - 1 : currentProjects.length - 1;
                renderSlider();
            });

            nextSlideBtn.addEventListener('click', function() {
                currentIndex = (currentIndex < currentProjects.length - 1) ? currentIndex + 1 : 0;
                renderSlider();
            });

            // Функция для отрисовки слайдов
            function renderSlider() {
                modalSlider.innerHTML = ''; // Очищаем слайдер
                if (currentProjects.length > 0) {
                    const project = currentProjects[currentIndex];
                    const slide = `
                        <div class="slider-item active">
                            <img src="${project.image}" alt="${project.title}">
                            <div class="slider-text">
                                <h3>${project.title}</h3>
                                <p>${project.description}</p>
                            </div>
                        </div>
                    `;
                    modalSlider.innerHTML = slide; // Добавляем текущий слайд
                }
            }
        });
    </script>
</body>
</html>